@model List<FlowerShop.ViewModels.ViewModelProduct>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

<table>
    <tr>
        <th>@(Html.LabelFor(p => p.FirstOrDefault().ViewId))</th>
        <th>@(Html.LabelFor(p => p.FirstOrDefault().ViewFlowerName))</th>
        <th>@(Html.LabelFor(p => p.FirstOrDefault().ViewFlowerDescription))</th>
        <th>@(Html.LabelFor(p => p.FirstOrDefault().ViewFlowerPrice))</th>
        <th>@(Html.LabelFor(p => p.FirstOrDefault().ViewCategory))</th>
        <th>@(Html.LabelFor(p => p.FirstOrDefault().ViewImages))</th>
        <th>@(Html.LabelFor(p => p.FirstOrDefault().ViewFlowerAddedDate))</th>
    </tr>
    @foreach (var value in Model)
    {
        <tr>
            <td>@Html.DisplayFor(modelItem => value.ViewId)</td>
            <td>@Html.DisplayFor(modelItem => value.ViewFlowerName)</td>
            <td>@Html.DisplayFor(modelItem => value.ViewFlowerDescription)</td>
            <td>@Html.DisplayFor(modelItem => value.ViewFlowerPrice)</td>
            <td>@Html.DisplayFor(modelItem => value.ViewCategory)</td>
            <td>
                @foreach (var image in value.ViewImages)
                {
                    @Html.Raw(("<img style='width:80px; height:60px;' src=\"data:image/jpeg;base64,"
                                + Convert.ToBase64String(image.ProductImage) + "\" />"))
                }
            <td>@Html.DisplayFor(modelItem => value.ViewFlowerAddedDate)</td>
            <td>
                <a href="@Url.Action("EditProduct", new { id = value.ViewId})" class="btn-edit">Edit</a>
                <a href="@Url.Action("DeleteProduct", new { id = value.ViewId})" class="btn-delete">Delete</a>
            </td>
        </tr>
    }
</table>